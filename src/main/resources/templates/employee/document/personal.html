<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{include/layout}">
    <meta charset="UTF-8">
    <th:block layout:fragment="content" th:each="member : ${memberdto}">
    <link th:href="@{/css/employee/document/personal.css}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/themes/default/style.min.css" />
        <section>
        	<div id="mem_no" style="display: none;" th:text="${member.member_no}"></div>
        	<div id="dept_no" style="display: none;" th:text="${member.department_no}"></div>
        	<div id="title">        	
	        	<h1>개인 문서함</h1>     
        	</div>
        	<div class="modal_div" style="display: none;">
	        	<form class="first_folder_add_modal" style="display: none;">
	        		<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
	        		<div class="cancel_div">
	        			<span>&times;</span>
	        		</div>
	        		<div class="first_folder_add_div">
	        			<input type="text" id="first_folder_name" placeholder="폴더명을 입력해주세요.">
	        		</div>
	        		<div class="folder_button_div">
		        		<input type="button" id="first_folder_add_button" value="확인">
	        		</div>
        		</form>
        		<form class="change_name_modal" style="display: none;">
        			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
	        		<div class="cancel_div">
	        			<span>&times;</span>
	        		</div>
	        		<div class="change_folder_name_div">
	        			<input type="text" id="change_folder_name" placeholder="새로운 폴더명을 입력해주세요.">
	        		</div>
	        		<div class="folder_button_div">
		        		<input type="button" id="folder_name_change_button" value="확인">
	        		</div>
        		</form>
        		<form class="folder_create_modal" style="display: none;">
        			<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
	        		<div class="cancel_div">
	        			<span>&times;</span>
	        		</div>
	        		<div class="folder_create_div">
	        			<input type="text" id="create_folder_name" placeholder="생성할 폴더명을 입력해주세요.">
	        		</div>
	        		<div class="folder_button_div">
		        		<input type="button" id="folder_create_button" value="확인">
	        		</div>
        		</form>
        	</div>
            <div class="document_folder_list">
                <div class="document_folder_tree">
                	<!-- AJAX로 폴더 출력 -->
	                <div id="tree" style="display: none;"></div>
	                <div class="folder_buttons" style="display: none;">
	                	<input type="button" id="folder_delete_button" value="삭제">
	                	<input type="button" id="folder_add_button" value="생성">
	                </div>
	                <div class="box_size" style="display: none">
	                	<div class="current_size_percent">                		
	                		<img src="/img/cloud.png" id="cloud">
	                		<div id="print_size"></div>
	                	</div>
	                	<div class="size_bar">
		                	<div id="bar_background">
		                		<div id="bar_foreground"></div>
		                	</div>
	                	</div>
	                	<div id="current_size_text"></div>
	                </div>
                </div>
                <hr>
                <div class="document_file_div">
	                <div class="document_no_folder" style="display: none;">
	                    <button id="first_folder_add">+</button>
	                    <p id="document_no_folder_msg">폴더 생성</p>
	                </div>
                	<div class="document_select_folder" style="display: none;">
	                    <p id="document_first_msg">폴더를 클릭하세요. </p>
	                </div>
	                <div class="document_file_list" style="display: none;">
	                	<div class="document_search">
	                		<div class="search_range">
	                			<div id="range">기간</div>   
	                			<div class="range_calendar">
	                				<input type="date" id="start_date">
	                				<span id="wave">~</span>
	                				<input type="date" id="end_date">
	                			</div>       
	                		</div>
	                		<div class="search_name">
	                			<div id="file_name">파일명</div>  
	                			<input type="text" id="file_name_input" placeholder="파일명을 입력하세요."> 
	                			<input type="button" id="search_button" value="검색">
	                		</div>  		
	                	</div>
	                	<div class="folder_name_div">
	                		<div id="folder_name"></div>
	                		<input type="button" id="change_name_button" value="이름 변경">
	                	</div>
	                	<div class="upper_list_div">
	                		<div class="select_button">
	                			<input type="button" id="select_delete" value="선택 삭제"> 
	                			<hr id="div_hr">
	                			<input type="button" id="select_down" value="선택 다운">
	                		</div>
	                		<div class="upload_and_sort">
	                			<input type="button" id="upload_button" value="업로드">
	                			<select id="sort_select">
	                				<option value="latest">최신순</option>
	                				<option value="oldest">과거순</option>
	                			</select>
	                		</div>
	                	</div>
	                	<table class="file_table">
	                		<thead class="table_head">
	                            <tr>
	                            	<th style="width: 5%"><input type="checkbox"></th>
	                                <th style="width: 25%">파일명</th>
	                                <th style="width: 25%">등록일</th>
	                                <th style="width: 10%">파일 보기</th>
	                                <th style="width: 15%">용량</th>
	                                <th style="width: 10%">다운로드</th>
	                                <th style="width: 10%">삭제</th>
	                            </tr>
	                        </thead>
	                        <tbody id="file_table_body">
	                            <!-- 리스트는 AJAX로 불러옴 -->
	                        </tbody>
	                        <tfoot id="table_foot">
	                            <tr>
	                                <td colspan="7">
	                                    <div class="pagination" id="pagination">
	                                        <!-- 페이지 버튼 ajax -->
	                                    </div>
	                                </td>
	                            </tr>
	                        </tfoot>
	                	</table>
	                </div>
                </div>
        	</div>
        </section>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.12.1/jquery.min.js"></script>
    	<script src="https://cdnjs.cloudflare.com/ajax/libs/jstree/3.2.1/jstree.min.js"></script>
    	<script src="/js/employee/document/personal.js"></script>
    </th:block>
</html>
