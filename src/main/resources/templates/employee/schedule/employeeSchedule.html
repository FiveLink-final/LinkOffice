<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
     xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
     layout:decorate="~{include/layout}"> 
    <th:block layout:fragment="content">
        	<link th:href="@{/css/employee/schedule/employeeSchedule.css}" rel="stylesheet" type="text/css">
	<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>
	<script src='https://cdn.jsdelivr.net/npm/@fullcalendar/google-calendar@6.1.15/index.global.min.js'></script>
		<section>
			<input type="hidden" id="memberNo" th:value="${memberNo}"> 
			<input type="hidden" id="departmentNo" th:value="${memberdto[0].department_no}"> 
	        <div id="header"> 
	            <button id="addEventBtn">등록</button>
	        </div> 
	        <div class="schedule-filters">
			    <div>
			    	<input type="checkbox" id="all_company_schedule" class="all-checkbox" data-department-no="1">
			    	<label for="all_company_schedule">전사 일정</label>
			    </div>
			    <div id="departmentCheckboxes"> 
			    </div>
			</div> 
		    <div id="calendar"></div>
	    </section>
	    
	    <!-- 등록 모달 -->
		<div id="eventModal" class="modal">
		    <div class="modal-content" id="create_company_schedule">
		        <span class="add_close close" id="closeModalBtn">&times;</span>
		        <h2 class="modal-title">일정 등록</h2>
		        <hr class="create_hr">
		        <form id="eventForm">
		            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
		            <input type="hidden" id="eventId">
		            <input type="hidden" id="isRecurring"> 
		            
		            <div class="form-group">
		                <label for="eventTitle">일정 제목</label>
		                <input type="text" id="eventTitle" name="title">
		            </div>
		            
		            <div class="form-group">
		                <label for="category">카테고리</label>
		                <select id="category" name="category">
		                    <option value="">카테고리</option>	
		                </select> 
		            </div>
		            
		            <div class="form-group">
		                <label for="eventDate">날짜</label>
		                <input type="date" id="eventDate" name="date">
		            </div>
		
		            <div class="form-group" id="timeGroup">
		                <label for="startTime">시작 시간</label>
		                <input type="time" id="startTime" name="start_time">
		            </div>
		
		            <div class="form-group" id="endTimeGroup">
		                <label for="endTime">종료 시간</label>
		                <input type="time" id="endTime" name="end_time">
		            </div>
	   	            
	   	            <div class="form-group" id="endDateGroup" style="display:none;">
		                <label for="endDate">종료 날짜</label>
		                <input type="date" id="endDate" name="endDate">
		            </div>
		            
		            <div class="form-group">
		                <label for="allDay">종일</label>
		                <input type="checkbox" id="allDay" name="allDay">
		            </div> 
		            
		            <div class="form-group">
		                <label for="repeatOption">반복</label>
		                <select id="repeatOption" name="repeat">
		                    <option value="0">반복 없음</option>	
		                </select>
		            </div>
		
		            <div class="form-group" id="repeatEndGroup" style="display:none;">  
		                <label for="repeatEndDate">반복 종료일</label>
		                <input type="date" id="repeatEndDate" name="repeatEndDate">
		            </div>
		            
		            <div class="form-group">
		                <label for="description">내용</label>
		                <textarea id="description" name="description"></textarea>
		            </div>  
		            
		            <div class="form-group button-group">
		                <button type="submit" class="modal_in_btn" id="create_modal_submit">저장</button>
		                <button type="button" id="closeModalBtn2" class="cancel_in_btn">취소</button>
		            </div>
		        </form>
		    </div>
		</div>
        <script th:src="@{/js/employee/schedule/employeeSchedule.js}"></script>
    </th:block>
</html>