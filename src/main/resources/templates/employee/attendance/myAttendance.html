<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{include/layout}">

<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/employee/attendance/myAttendance.css}" rel="stylesheet" type="text/css">
    <title>근태 조회</title>
</head>

<body>
    <th:block layout:fragment="content" th:each="member : ${memberdto}">
        <table style="display: none;" class="hidden_table">
            <tr th:each="attendance : ${attendanceList}">
                <td class="hidden_date" th:text="${attendance.work_date}"></td>
                <td th:text="${attendance.check_in_time != null ? attendance.check_in_time : ''}"></td>
                <td id="mem_no" th:text="${member.member_no}"></td>
            </tr>
        </table>
        <section>
            <h1>근태 조회</h1>
            <hr>
            <div class="attendance_div">
                <div class="attendance_left">
                    <div class="attendance_status">
                        <span>출근 <span id="attendance_normal"></span></span>
                        <span>지각 <span id="attendance_late"></span></span>
                        <span>결근 <span id="attendance_absent"></span></span>
                        <span>휴가 <span id="attendance_vacation"></span></span>
                    </div>
                    
                    <!-- Calendar section -->
                    <div class="calendar_div">
                        <div id="calendar_title">
                            <span id="prev_button" onclick="prevMonth()"> &lt; </span>
                            <span id="year_and_month"></span>
                            <span id="next_button" onclick="nextMonth()"> &gt; </span>
                        </div>
                        <table id="calendar">
                            <tr>
                                <td align="center"><font color="#F79DC2">일</font></td>
                                <td align="center">월</td>
                                <td align="center">화</td>
                                <td align="center">수</td>
                                <td align="center">목</td>
                                <td align="center">금</td>
                                <td align="center"><font color="skyblue">토</font></td>
                            </tr>
                        </table>
                    </div>
                </div>
                <hr>
                <div class="attendance_right">
                	<div class="count_div">
                		<div>이번 달 근무 일수 </div>
                		<div>지각</div>
                		<div>결근</div>
                	</div>
                	<div class="search">
                		<select id="attendance_state">
                			<option>전체</option>
                			<option>출근</option>
                			<option>지각</option>
                			<option>결근</option>
                			<option>휴가</option>
                		</select>
                		<input type="date" id="start_date">
                		<span id="wave">~</span>
                		<input type="date" id="end_date">
                		<select id="sort_select">
                			<option>최신 순</option>
                			<option>오래된 순</option>
                		</select>
                	</div>				                	
	                <div class="attendance_list">
	                    <table class="attendance_table">
	                        <thead class="table_head">
	                            <tr>
	                                <th>날짜</th>
	                                <th>출근 시간</th>
	                                <th>퇴근 시간</th>
	                                <th>근태</th>
	                            </tr>
	                        </thead>
	                        <tbody id="attendance_table_body">
	                            <!-- 리스트는 AJAX로 불러옴 -->
	                        </tbody>
	                        <tfoot id="table_foot">
	                            <tr>
	                                <td colspan="4">
	                                    <div class="pagination" id="pagination">
	                                        <!-- 페이지 버튼 ajax -->
	                                    </div>
	                                </td>
	                            </tr>
	                        </tfoot>
	                    </table>
	                </div>
	            </div>
            </div>
        </section>
        <script src="/js/employee/attendance/myAttendance.js"></script>
    </th:block>
</body>
</html>
